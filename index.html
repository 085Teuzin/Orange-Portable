<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Orange Portable</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ff4500">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="icon.png">
    <style>
        :root{--p:#f40;--p-h:#ff5511;--b:#050505;--c:#121212;--t:#fff;--br:12px}
        *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Roboto,sans-serif;-webkit-tap-highlight-color:transparent}
        body{background:var(--b);color:var(--t);padding:20px;user-select:none;touch-action:manipulation;line-height:1.6}
        h1{color:var(--p);letter-spacing:1px;text-align:center;font-size:28px;margin-bottom:5px}
        h2{color:#666;font-size:13px;margin-bottom:25px;text-align:center;text-transform:uppercase;letter-spacing:1px}
        
        .search-box{display:flex;gap:10px;margin-bottom:15px;position:relative}
        .input-wrapper{position:relative;flex:1}
        input,select{background:var(--c);border:1px solid #222;color:#fff;padding:14px;border-radius:var(--br);outline:none;font-size:16px;transition:0.3s}
        input{width:100%;padding-right:40px}
        input:focus{border-color:var(--p);box-shadow:0 0 0 2px rgba(255,68,0,0.2)}
        .clear-btn{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:#555;font-size:18px;display:none;cursor:pointer}
        
        .tags{display:flex;gap:10px;overflow-x:auto;padding:5px 0 20px;scrollbar-width:none;mask-image:linear-gradient(to right, black 90%, transparent)}
        .tags::-webkit-scrollbar{display:none}
        .tag{background:var(--c);padding:8px 18px;border-radius:25px;font-size:13px;border:1px solid #222;white-space:nowrap;cursor:pointer;transition:0.2s;color:#888}
        .tag.active{background:var(--p);border-color:var(--p);color:#fff;box-shadow:0 4px 12px rgba(255,68,0,0.3)}
        
        #stats{color:#555;font-size:12px;text-align:left;margin-bottom:10px;padding-left:5px}
        .rnd{background:linear-gradient(45deg, var(--c), #1a1a1a);color:var(--p);border:1px solid #222;padding:14px;border-radius:var(--br);width:100%;font-weight:700;margin-bottom:20px;cursor:pointer;transition:0.2s}
        .rnd:active{transform:scale(0.98)}

        #ct{display:grid;gap:12px}
        .card{background:var(--c);padding:16px;border-radius:var(--br);display:flex;justify-content:space-between;align-items:center;border:1px solid #1a1a1a;transition:0.2s;animation:fadeIn 0.4s ease forwards}
        @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
        .card:active{transform:scale(0.96);background:#1a1a1a}
        .card h3{font-size:16px;color:#eee;margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:180px}
        .sz{font-size:10px;color:#aaa;background:#000;padding:3px 8px;border-radius:5px;border:1px solid #222;text-transform:uppercase}
        
        .btns{display:flex;gap:12px;align-items:center}
        .f{background:none;border:none;font-size:20px;filter:grayscale(1);cursor:pointer;transition:0.3s;padding:5px}
        .f.a{filter:grayscale(0);transform:scale(1.1)}
        .dl{background:var(--p);color:#fff;text-decoration:none;width:38px;height:38px;border-radius:12px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 10px rgba(255,68,0,0.2)}
        
        .sup{margin-top:40px;padding:25px;background:linear-gradient(180deg, #0a0a0a, #050505);border-radius:20px;border:1px solid #111;text-align:center}
        .qr{width:150px;margin:0 auto 20px;background:#fff;padding:8px;border-radius:12px;box-shadow:0 10px 20px rgba(0,0,0,0.5)}
        .qr img{width:100%;display:block}
        .btn{color:#fff;text-decoration:none;padding:14px;border-radius:var(--br);font-weight:700;display:block;margin-bottom:12px;transition:0.2s}
        .btn:active{transform:scale(0.98)}
        #pix{background:#22c55e;box-shadow:0 4px 12px rgba(34,197,94,0.2)}
        #wa{background:transparent;border:1px solid var(--p);color:var(--p)}
        
        .m{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);z-index:99;backdrop-filter:blur(5px)}
        .mc{background:#111;margin:20% auto;padding:30px;border:1px solid #222;width:90%;max-width:400px;border-radius:20px;position:relative;box-shadow:0 20px 40px rgba(0,0,0,0.8)}
        .mc h2{text-align:left;color:var(--p);font-size:22px;margin-bottom:15px}
        .mc p{font-size:15px;color:#aaa;line-height:1.6}
        .inf{margin-top:20px;padding-top:20px;border-top:1px solid #222;display:flex;justify-content:space-between;font-size:13px}
        
        #up{position:fixed;bottom:25px;right:20px;background:var(--p);color:#fff;border:none;width:50px;height:50px;border-radius:50%;display:none;cursor:pointer;z-index:8;box-shadow:0 5px 15px rgba(255,68,0,0.4)}
    </style>
</head>
<body>
    <div style="max-width:600px;margin:0 auto">
        <h1>Orange Portable</h1>
        <h2>Premium PSP Library</h2>
        
        <div class="search-box">
            <div class="input-wrapper">
                <input type="text" id="s" placeholder="Procurar jogo..." oninput="updateSearch()">
                <span id="c" class="clear-btn" onclick="clearSearch()">‚úï</span>
            </div>
            <select id="o" onchange="f()" style="width:110px">
                <option value="az">A-Z</option>
                <option value="za">Z-A</option>
            </select>
        </div>

        <div class="tags" id="ts"></div>
        <div id="stats"></div>
        <button class="rnd" onclick="rd()">üé≤ Sugest√£o Aleat√≥ria</button>
        <div id="ct"></div>

        <div class="sup">
            <div class="qr"><img src="https://api.qrserver.com/v1/create-qr-code/?data=00020126580014br.gov.bcb.pix01361cb3b52c-7693-4e44-a5c3-abd2d1fb90b45204000053039865802BR5925MATEUS VINICIUS DO NASCIM6009Sao Paulo62290525REC69906F1AAC2B2372646262630448A2"></div>
            <a class="btn" id="pix" onclick="cp()">üìã <span>Copiar Chave Pix</span></a>
            <a href="https://api.whatsapp.com/send?phone=5585991272125&text=Opa!%20Vim%20pelo%20Orange%20Portable." id="wa" class="btn">üí¨ Suporte Direto</a>
        </div>
        <button id="up" onclick="window.scrollTo({top:0,behavior:'smooth'})">‚ñ≤</button>
    </div>

    <div id="md" class="m" onclick="cl()"><div class="mc" onclick="event.stopPropagation()"><h2 id="mt"></h2><p id="mds"></p><div class="inf"><span>üìÖ <b id="mrl"></b></span><span>üéÆ <b id="mcp"></b></span></div></div></div>

    <script src="database.js"></script>
    <script src="infobase.js"></script>
    <script>
        const gs=window.gamesData||[], ct=document.getElementById('ct'), sInp=document.getElementById('s'), cBtn=document.getElementById('c');
        let fv=JSON.parse(localStorage.getItem('fav'))||[], at="Todos";

        function it(){
            const t=document.getElementById('ts'); t.innerHTML='';
            let l=["Todos", ...(fv.length?["‚ù§Ô∏è Favoritos"]:[]), ...[...new Set(gs.map(g=>g.category))].sort()];
            l.forEach(x=>{
                const e=document.createElement('div');
                e.className=`tag ${x==at?'active':''}`; e.textContent=x;
                e.onclick=()=>{at=x; it(); f(); window.scrollTo({top:0,behavior:'smooth'})};
                t.appendChild(e);
            });
        }

        function updateSearch(){
            cBtn.style.display = sInp.value ? 'block' : 'none';
            f();
        }

        function clearSearch(){
            sInp.value='';
            updateSearch();
            sInp.focus();
        }

        function f(){
            const q=sInp.value.toLowerCase(), ord=document.getElementById('o').value;
            let res=gs.filter(g=>(g.name.toLowerCase().includes(q))&&(at=="Todos"||(at=="‚ù§Ô∏è Favoritos"?fv.includes(g.name):g.category==at)));
            res.sort((a,b)=>ord=='az'?a.name.localeCompare(b.name):b.name.localeCompare(a.name));
            document.getElementById('stats').textContent=`${res.length} T√≠tulos dispon√≠veis`;
            ct.innerHTML='';
            res.forEach((g, i)=>{
                const d=document.createElement('div');
                d.className='card'; d.style.animationDelay=`${i*0.03}s`;
                d.onclick=()=>sh(g.name);
                d.innerHTML=`<div><h3>${g.name}</h3><span class="sz">${g.size}</span></div>
                    <div class="btns">
                        <button class="f ${fv.includes(g.name)?'a':''}" onclick="event.stopPropagation();tf('${g.name.replace(/'/g,"\\'")}')">‚ù§Ô∏è</button>
                        <a href="${g.link}" class="dl" onclick="event.stopPropagation()">‚¨áÔ∏è</a>
                    </div>`;
                ct.appendChild(d);
            });
        }

        function tf(n){
            fv=fv.includes(n)?fv.filter(x=>x!=n):[...fv,n];
            localStorage.setItem('fav',JSON.stringify(fv));
            it(); f();
        }

        function sh(n){
            const i=(window.gamesInfo&&window.gamesInfo[n])?window.gamesInfo[n]:{description:"Sem descri√ß√£o dispon√≠vel.",release:"N/A",compat:"-"};
            document.getElementById('mt').textContent=n;
            document.getElementById('mds').textContent=i.description;
            document.getElementById('mrl').textContent=i.release;
            const cpEl=document.getElementById('mcp');
            cpEl.textContent=i.compat;
            cpEl.style.color=i.compat=="√ìtima"?"#22c55e":(i.compat=="Boa"?"#facc15":"#f40");
            document.getElementById('md').style.display="block";
        }

        function cl(){document.getElementById('md').style.display="none"}
        function rd(){if(gs.length)sh(gs[Math.floor(Math.random()*gs.length)].name)}
        function cp(){
            navigator.clipboard.writeText("00020126580014br.gov.bcb.pix01361cb3b52c-7693-4e44-a5c3-abd2d1fb90b45204000053039865802BR5925MATEUS VINICIUS DO NASCIM6009Sao Paulo62290525REC69906F1AAC2B2372646262630448A2");
            const s=document.querySelector('#pix span'); s.textContent="Copiado!";
            setTimeout(()=>s.textContent="Copiar Chave Pix",2000);
        }

        window.onscroll=()=>document.getElementById("up").style.display=window.scrollY>300?"block":"none";
        it(); f();
    </script>
</body>
</html>